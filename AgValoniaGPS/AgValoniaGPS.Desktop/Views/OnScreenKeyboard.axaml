<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="AgValoniaGPS.Desktop.Views.OnScreenKeyboard"
        Title="Enter Value"
        Width="320"
        Height="420"
        WindowStartupLocation="CenterOwner"
        CanResize="False"
        ShowInTaskbar="False"
        Background="#2C3E50">

    <Window.Styles>
        <Style Selector="Button.KeypadButton">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Background" Value="#34495E"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Margin" Value="3"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style Selector="Button.KeypadButton:pointerover">
            <Setter Property="Background" Value="#4A6278"/>
        </Style>
        <Style Selector="Button.KeypadButton:pressed">
            <Setter Property="Background" Value="#1ABC9C"/>
        </Style>

        <Style Selector="Button.ActionButton">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Margin" Value="3"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>

        <Style Selector="Button.CancelButton">
            <Setter Property="Background" Value="#C0392B"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>
        <Style Selector="Button.CancelButton:pointerover">
            <Setter Property="Background" Value="#E74C3C"/>
        </Style>

        <Style Selector="Button.OkButton">
            <Setter Property="Background" Value="#27AE60"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>
        <Style Selector="Button.OkButton:pointerover">
            <Setter Property="Background" Value="#2ECC71"/>
        </Style>

        <Style Selector="Button.ClearButton">
            <Setter Property="Background" Value="#E67E22"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>
        <Style Selector="Button.ClearButton:pointerover">
            <Setter Property="Background" Value="#F39C12"/>
        </Style>
    </Window.Styles>

    <Grid RowDefinitions="Auto,Auto,*,Auto" Margin="10">
        <!-- Description label -->
        <TextBlock x:Name="DescriptionLabel"
                   Grid.Row="0"
                   Text="Enter value:"
                   Foreground="#BDC3C7"
                   FontSize="14"
                   Margin="5,0,5,5"/>

        <!-- Display area -->
        <Border Grid.Row="1"
                Background="#1A252F"
                CornerRadius="6"
                Padding="10"
                Margin="0,0,0,10">
            <TextBlock x:Name="DisplayText"
                       Text="0"
                       Foreground="#1ABC9C"
                       FontSize="36"
                       FontWeight="Bold"
                       HorizontalAlignment="Right"
                       TextAlignment="Right"/>
        </Border>

        <!-- Keypad grid -->
        <Grid Grid.Row="2" RowDefinitions="*,*,*,*" ColumnDefinitions="*,*,*,*">
            <!-- Row 1: 7, 8, 9, Back -->
            <Button Grid.Row="0" Grid.Column="0" Content="7" Classes="KeypadButton" Click="OnDigitClick"/>
            <Button Grid.Row="0" Grid.Column="1" Content="8" Classes="KeypadButton" Click="OnDigitClick"/>
            <Button Grid.Row="0" Grid.Column="2" Content="9" Classes="KeypadButton" Click="OnDigitClick"/>
            <Button Grid.Row="0" Grid.Column="3" Content="⌫" Classes="KeypadButton" Click="OnBackspaceClick"/>

            <!-- Row 2: 4, 5, 6, Clear -->
            <Button Grid.Row="1" Grid.Column="0" Content="4" Classes="KeypadButton" Click="OnDigitClick"/>
            <Button Grid.Row="1" Grid.Column="1" Content="5" Classes="KeypadButton" Click="OnDigitClick"/>
            <Button Grid.Row="1" Grid.Column="2" Content="6" Classes="KeypadButton" Click="OnDigitClick"/>
            <Button Grid.Row="1" Grid.Column="3" Content="C" Classes="KeypadButton ActionButton ClearButton" Click="OnClearClick"/>

            <!-- Row 3: 1, 2, 3, +/- -->
            <Button Grid.Row="2" Grid.Column="0" Content="1" Classes="KeypadButton" Click="OnDigitClick"/>
            <Button Grid.Row="2" Grid.Column="1" Content="2" Classes="KeypadButton" Click="OnDigitClick"/>
            <Button Grid.Row="2" Grid.Column="2" Content="3" Classes="KeypadButton" Click="OnDigitClick"/>
            <Button Grid.Row="2" Grid.Column="3" Content="±" Classes="KeypadButton" Click="OnNegateClick"/>

            <!-- Row 4: 0, ., Cancel, OK -->
            <Button Grid.Row="3" Grid.Column="0" Content="0" Classes="KeypadButton" Click="OnDigitClick"/>
            <Button x:Name="DecimalButton" Grid.Row="3" Grid.Column="1" Content="." Classes="KeypadButton" Click="OnDecimalClick"/>
            <Button Grid.Row="3" Grid.Column="2" Content="✕" Classes="KeypadButton ActionButton CancelButton" Click="OnCancelClick"/>
            <Button Grid.Row="3" Grid.Column="3" Content="✓" Classes="KeypadButton ActionButton OkButton" Click="OnOkClick"/>
        </Grid>

        <!-- Min/Max display -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
            <TextBlock x:Name="RangeLabel"
                       Text=""
                       Foreground="#7F8C8D"
                       FontSize="12"/>
        </StackPanel>
    </Grid>
</Window>
